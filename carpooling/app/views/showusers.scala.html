@(kindergarten: Kindergarten, loggedUserGroup: List[List[User]], restGroups: List[List[User]], sysMessage: String)

@main("Welcome to our Family of Familis") {
    @contener {
        <div class="sysmessage">@sysMessage</div>
            <div class="left_contener">
                <div class="text">
			              Parents from @kindergarten.name on @kindergarten.street in @kindergarten.city: @kindergarten.lat @kindergarten.lon<br><br>
                </div>
                <div class="text">
			              List of users:
                </div>
                <div class="iterator">
                    @for(groupOfUsers <- loggedUserGroup) {
                        <b>Your group:</b><br>
                        @for(user <- groupOfUsers) {
                            @user.name @user.surname lives on @user.street in @user.city @user.lon @user.lat
                            free seats: @user.seats    email: @user.email<br>
                            }
                            }
                            @for(groupOfUsers <- restGroups) {
                                <b>Group:</b><br>
                                @for(user <- groupOfUsers) {
                                    @user.name @user.surname lives on @user.street in @user.city @user.lon @user.lat
                                    free seats: @user.seats    email: @user.email
                                    <a href="/sendrequest/@user.email">send request</a><br>
                                    }
                                    }
                </div>

                <div id="mapdiv" style="height: 500px"></div>
                <script src="http://www.openlayers.org/api/OpenLayers.js"></script>
                <script>
                 map = new OpenLayers.Map("mapdiv");
                 map.addLayer(new OpenLayers.Layer.OSM());
                 var lat = @kindergarten.lat
                 var lon = @kindergarten.lon
                 var lonLat = new OpenLayers.LonLat(lon, lat)
                                            .transform(
                                                new OpenLayers.Projection("EPSG:4326"), // transform from WGS 1984
                                                map.getProjectionObject() // to Spherical Mercator Projection
                                            );
                 
                 var zoom=16;
                 
                 var markers = new OpenLayers.Layer.Markers( "Markers" );
                 map.addLayer(markers);
                 
                 markers.addMarker(new OpenLayers.Marker(lonLat));
                 
                 map.setCenter (lonLat, zoom);
                </script>
                
            </div>
            }
            }
